<a href="/reflection?art_id={{ art.objectID }}" class="btn btn-primary">Give your impression</a>

{% if art %}


<div>
  <p><strong>Title: </strong>{{ art.title }}</p>
  <p><strong>Artist: </strong>{{ art.artistDisplayName }}</p>
  <p><strong>Date: </strong>{{ art.objectDate }}</p>
  <p><strong>Object Name: </strong>{{ art.objectName }}</p>
  <p><strong>Medium: </strong>{{ art.medium }}</p>
  <p><strong>Dimensions: </strong> {{ art.dimensions }}</p>
  <p><strong>Department: </strong> {{ art.department }}</p>

  {% if not art.primaryImage %}
  <p>NO IMAGE</p>
  {% endif %}
</div>



<div id="viewer-container">
  <div id="loading-spinner"></div>
  <div class="seadragon-container" id="openseadragon-viewer" style="width: 100%; height: 80vh;"></div>
  <div id="navigatorDiv" style="width:150px; height:150px;"></div>
</div>


{% else %}
<p>No art to display. Please refresh the page</p>
{% endif %}

<script>

  // OpenSeadragon Viewer setup
  const viewer = OpenSeadragon({
    id: "openseadragon-viewer",
    prefixUrl: "https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.1.0/images/",
    tileSources: {
      type: 'image',
      url: "{{ art.primaryImage }}",
      placeholder: "{{ art.primaryImageSmall }}"
    },
    showNavigator: true,
    showLoading: true,
    immediateRender: true,
  });

  // When tiles finish loading hide the spinner
  viewer.addHandler("open", () => {
    document.getElementById("loading-spinner").style.display = "none";
  });

</script>


<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
      <th scope="col">Handle</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>Mark</td>
      <td>Otto</td>
      <td>@mdo</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>Jacob</td>
      <td>Thornton</td>
      <td>@fat</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td colspan="2">Larry the Bird</td>
      <td>@twitter</td>
    </tr>
  </tbody>
</table>
